import{d as Dt,r as Bt,J as Pt,f as kt,o as $t,g as K,j as mt,n as bt,b as qt,w as St,e as wt,E as At,v as It,x as Et,B as Mt}from"./modules/vue-Quq115F5.js";import{u as zt,f as jt}from"./slidev/context-D4h7BCUq.js";import{g as Rt}from"./modules/file-saver-C8BEGaqa.js";import{_ as Lt,a as Nt,b as Tt}from"./modules/unplugin-icons-DmBhSyAq.js";import{_ as Ft}from"./index-xa4W7G5W.js";import"./modules/shiki-DNpHxEZ6.js";var yt={exports:{}},Qt=yt.exports,Ot;function Ut(){return Ot||(Ot=1,function(nt,tt){(function(X,W){nt.exports=W()})(Qt,()=>(()=>{var X={873:(L,N)=>{var T,ht,dt=function(){var Z=function(t,r){var i=t,e=ot[r],o=null,s=0,a=null,u=[],l={},w=function(h,c){o=function(d){for(var g=new Array(d),f=0;f<d;f+=1){g[f]=new Array(d);for(var _=0;_<d;_+=1)g[f][_]=null}return g}(s=4*i+17),p(0,0),p(s-7,0),p(0,s-7),y(),v(),m(h,c),i>=7&&k(h),a==null&&(a=O(i,e,u)),B(a,c)},p=function(h,c){for(var d=-1;d<=7;d+=1)if(!(h+d<=-1||s<=h+d))for(var g=-1;g<=7;g+=1)c+g<=-1||s<=c+g||(o[h+d][c+g]=0<=d&&d<=6&&(g==0||g==6)||0<=g&&g<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=g&&g<=4)},v=function(){for(var h=8;h<s-8;h+=1)o[h][6]==null&&(o[h][6]=h%2==0);for(var c=8;c<s-8;c+=1)o[6][c]==null&&(o[6][c]=c%2==0)},y=function(){for(var h=H.getPatternPosition(i),c=0;c<h.length;c+=1)for(var d=0;d<h.length;d+=1){var g=h[c],f=h[d];if(o[g][f]==null)for(var _=-2;_<=2;_+=1)for(var S=-2;S<=2;S+=1)o[g+_][f+S]=_==-2||_==2||S==-2||S==2||_==0&&S==0}},k=function(h){for(var c=H.getBCHTypeNumber(i),d=0;d<18;d+=1){var g=!h&&(c>>d&1)==1;o[Math.floor(d/3)][d%3+s-8-3]=g}for(d=0;d<18;d+=1)g=!h&&(c>>d&1)==1,o[d%3+s-8-3][Math.floor(d/3)]=g},m=function(h,c){for(var d=e<<3|c,g=H.getBCHTypeInfo(d),f=0;f<15;f+=1){var _=!h&&(g>>f&1)==1;f<6?o[f][8]=_:f<8?o[f+1][8]=_:o[s-15+f][8]=_}for(f=0;f<15;f+=1)_=!h&&(g>>f&1)==1,f<8?o[8][s-f-1]=_:f<9?o[8][15-f-1+1]=_:o[8][15-f-1]=_;o[s-8][8]=!h},B=function(h,c){for(var d=-1,g=s-1,f=7,_=0,S=H.getMaskFunction(c),C=s-1;C>0;C-=2)for(C==6&&(C-=1);;){for(var D=0;D<2;D+=1)if(o[g][C-D]==null){var M=!1;_<h.length&&(M=(h[_]>>>f&1)==1),S(g,C-D)&&(M=!M),o[g][C-D]=M,(f-=1)==-1&&(_+=1,f=7)}if((g+=d)<0||s<=g){g-=d,d=-d;break}}},O=function(h,c,d){for(var g=st.getRSBlocks(h,c),f=ct(),_=0;_<d.length;_+=1){var S=d[_];f.put(S.getMode(),4),f.put(S.getLength(),H.getLengthInBits(S.getMode(),h)),S.write(f)}var C=0;for(_=0;_<g.length;_+=1)C+=g[_].dataCount;if(f.getLengthInBits()>8*C)throw"code length overflow. ("+f.getLengthInBits()+">"+8*C+")";for(f.getLengthInBits()+4<=8*C&&f.put(0,4);f.getLengthInBits()%8!=0;)f.putBit(!1);for(;!(f.getLengthInBits()>=8*C||(f.put(236,8),f.getLengthInBits()>=8*C));)f.put(17,8);return function(D,M){for(var A=0,q=0,I=0,R=new Array(M.length),E=new Array(M.length),x=0;x<M.length;x+=1){var at=M[x].dataCount,ft=M[x].totalCount-at;q=Math.max(q,at),I=Math.max(I,ft),R[x]=new Array(at);for(var P=0;P<R[x].length;P+=1)R[x][P]=255&D.getBuffer()[P+A];A+=at;var J=H.getErrorCorrectPolynomial(ft),G=it(R[x],J.getLength()-1).mod(J);for(E[x]=new Array(J.getLength()-1),P=0;P<E[x].length;P+=1){var rt=P+G.getLength()-E[x].length;E[x][P]=rt>=0?G.getAt(rt):0}}var _t=0;for(P=0;P<M.length;P+=1)_t+=M[P].totalCount;var pt=new Array(_t),V=0;for(P=0;P<q;P+=1)for(x=0;x<M.length;x+=1)P<R[x].length&&(pt[V]=R[x][P],V+=1);for(P=0;P<I;P+=1)for(x=0;x<M.length;x+=1)P<E[x].length&&(pt[V]=E[x][P],V+=1);return pt}(f,g)};l.addData=function(h,c){var d=null;switch(c=c||"Byte"){case"Numeric":d=xt(h);break;case"Alphanumeric":d=Ct(h);break;case"Byte":d=ut(h);break;case"Kanji":d=gt(h);break;default:throw"mode:"+c}u.push(d),a=null},l.isDark=function(h,c){if(h<0||s<=h||c<0||s<=c)throw h+","+c;return o[h][c]},l.getModuleCount=function(){return s},l.make=function(){if(i<1){for(var h=1;h<40;h++){for(var c=st.getRSBlocks(h,e),d=ct(),g=0;g<u.length;g++){var f=u[g];d.put(f.getMode(),4),d.put(f.getLength(),H.getLengthInBits(f.getMode(),h)),f.write(d)}var _=0;for(g=0;g<c.length;g++)_+=c[g].dataCount;if(d.getLengthInBits()<=8*_)break}i=h}w(!1,function(){for(var S=0,C=0,D=0;D<8;D+=1){w(!0,D);var M=H.getLostPoint(l);(D==0||S>M)&&(S=M,C=D)}return C}())},l.createTableTag=function(h,c){h=h||2;var d="";d+='<table style="',d+=" border-width: 0px; border-style: none;",d+=" border-collapse: collapse;",d+=" padding: 0px; margin: "+(c=c===void 0?4*h:c)+"px;",d+='">',d+="<tbody>";for(var g=0;g<l.getModuleCount();g+=1){d+="<tr>";for(var f=0;f<l.getModuleCount();f+=1)d+='<td style="',d+=" border-width: 0px; border-style: none;",d+=" border-collapse: collapse;",d+=" padding: 0px; margin: 0px;",d+=" width: "+h+"px;",d+=" height: "+h+"px;",d+=" background-color: ",d+=l.isDark(g,f)?"#000000":"#ffffff",d+=";",d+='"/>';d+="</tr>"}return(d+="</tbody>")+"</table>"},l.createSvgTag=function(h,c,d,g){var f={};typeof arguments[0]=="object"&&(h=(f=arguments[0]).cellSize,c=f.margin,d=f.alt,g=f.title),h=h||2,c=c===void 0?4*h:c,(d=typeof d=="string"?{text:d}:d||{}).text=d.text||null,d.id=d.text?d.id||"qrcode-description":null,(g=typeof g=="string"?{text:g}:g||{}).text=g.text||null,g.id=g.text?g.id||"qrcode-title":null;var _,S,C,D,M=l.getModuleCount()*h+2*c,A="";for(D="l"+h+",0 0,"+h+" -"+h+",0 0,-"+h+"z ",A+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',A+=f.scalable?"":' width="'+M+'px" height="'+M+'px"',A+=' viewBox="0 0 '+M+" "+M+'" ',A+=' preserveAspectRatio="xMinYMin meet"',A+=g.text||d.text?' role="img" aria-labelledby="'+b([g.id,d.id].join(" ").trim())+'"':"",A+=">",A+=g.text?'<title id="'+b(g.id)+'">'+b(g.text)+"</title>":"",A+=d.text?'<description id="'+b(d.id)+'">'+b(d.text)+"</description>":"",A+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',A+='<path d="',S=0;S<l.getModuleCount();S+=1)for(C=S*h+c,_=0;_<l.getModuleCount();_+=1)l.isDark(S,_)&&(A+="M"+(_*h+c)+","+C+D);return(A+='" stroke="transparent" fill="black"/>')+"</svg>"},l.createDataURL=function(h,c){h=h||2,c=c===void 0?4*h:c;var d=l.getModuleCount()*h+2*c,g=c,f=d-c;return n(d,d,function(_,S){if(g<=_&&_<f&&g<=S&&S<f){var C=Math.floor((_-g)/h),D=Math.floor((S-g)/h);return l.isDark(D,C)?0:1}return 1})},l.createImgTag=function(h,c,d){h=h||2,c=c===void 0?4*h:c;var g=l.getModuleCount()*h+2*c,f="";return f+="<img",f+=' src="',f+=l.createDataURL(h,c),f+='"',f+=' width="',f+=g,f+='"',f+=' height="',f+=g,f+='"',d&&(f+=' alt="',f+=b(d),f+='"'),f+"/>"};var b=function(h){for(var c="",d=0;d<h.length;d+=1){var g=h.charAt(d);switch(g){case"<":c+="&lt;";break;case">":c+="&gt;";break;case"&":c+="&amp;";break;case'"':c+="&quot;";break;default:c+=g}}return c};return l.createASCII=function(h,c){if((h=h||1)<2)return function(R){R=R===void 0?2:R;var E,x,at,ft,P,J=1*l.getModuleCount()+2*R,G=R,rt=J-R,_t={"██":"█","█ ":"▀"," █":"▄","  ":" "},pt={"██":"▀","█ ":"▀"," █":" ","  ":" "},V="";for(E=0;E<J;E+=2){for(at=Math.floor((E-G)/1),ft=Math.floor((E+1-G)/1),x=0;x<J;x+=1)P="█",G<=x&&x<rt&&G<=E&&E<rt&&l.isDark(at,Math.floor((x-G)/1))&&(P=" "),G<=x&&x<rt&&G<=E+1&&E+1<rt&&l.isDark(ft,Math.floor((x-G)/1))?P+=" ":P+="█",V+=R<1&&E+1>=rt?pt[P]:_t[P];V+=`
`}return J%2&&R>0?V.substring(0,V.length-J-1)+Array(J+1).join("▀"):V.substring(0,V.length-1)}(c);h-=1,c=c===void 0?2*h:c;var d,g,f,_,S=l.getModuleCount()*h+2*c,C=c,D=S-c,M=Array(h+1).join("██"),A=Array(h+1).join("  "),q="",I="";for(d=0;d<S;d+=1){for(f=Math.floor((d-C)/h),I="",g=0;g<S;g+=1)_=1,C<=g&&g<D&&C<=d&&d<D&&l.isDark(f,Math.floor((g-C)/h))&&(_=0),I+=_?M:A;for(f=0;f<h;f+=1)q+=I+`
`}return q.substring(0,q.length-1)},l.renderTo2dContext=function(h,c){c=c||2;for(var d=l.getModuleCount(),g=0;g<d;g++)for(var f=0;f<d;f++)h.fillStyle=l.isDark(g,f)?"black":"white",h.fillRect(g*c,f*c,c,c)},l};Z.stringToBytes=(Z.stringToBytesFuncs={default:function(t){for(var r=[],i=0;i<t.length;i+=1){var e=t.charCodeAt(i);r.push(255&e)}return r}}).default,Z.createStringToBytes=function(t,r){var i=function(){for(var o=$(t),s=function(){var v=o.read();if(v==-1)throw"eof";return v},a=0,u={};;){var l=o.read();if(l==-1)break;var w=s(),p=s()<<8|s();u[String.fromCharCode(l<<8|w)]=p,a+=1}if(a!=r)throw a+" != "+r;return u}(),e=63;return function(o){for(var s=[],a=0;a<o.length;a+=1){var u=o.charCodeAt(a);if(u<128)s.push(u);else{var l=i[o.charAt(a)];typeof l=="number"?(255&l)==l?s.push(l):(s.push(l>>>8),s.push(255&l)):s.push(e)}}return s}};var et,Q,F,z,U,ot={L:1,M:0,Q:3,H:2},H=(et=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Q=1335,F=7973,U=function(t){for(var r=0;t!=0;)r+=1,t>>>=1;return r},(z={}).getBCHTypeInfo=function(t){for(var r=t<<10;U(r)-U(Q)>=0;)r^=Q<<U(r)-U(Q);return 21522^(t<<10|r)},z.getBCHTypeNumber=function(t){for(var r=t<<12;U(r)-U(F)>=0;)r^=F<<U(r)-U(F);return t<<12|r},z.getPatternPosition=function(t){return et[t-1]},z.getMaskFunction=function(t){switch(t){case 0:return function(r,i){return(r+i)%2==0};case 1:return function(r,i){return r%2==0};case 2:return function(r,i){return i%3==0};case 3:return function(r,i){return(r+i)%3==0};case 4:return function(r,i){return(Math.floor(r/2)+Math.floor(i/3))%2==0};case 5:return function(r,i){return r*i%2+r*i%3==0};case 6:return function(r,i){return(r*i%2+r*i%3)%2==0};case 7:return function(r,i){return(r*i%3+(r+i)%2)%2==0};default:throw"bad maskPattern:"+t}},z.getErrorCorrectPolynomial=function(t){for(var r=it([1],0),i=0;i<t;i+=1)r=r.multiply(it([1,Y.gexp(i)],0));return r},z.getLengthInBits=function(t,r){if(1<=r&&r<10)switch(t){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+t}else if(r<27)switch(t){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+t}else{if(!(r<41))throw"type:"+r;switch(t){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+t}}},z.getLostPoint=function(t){for(var r=t.getModuleCount(),i=0,e=0;e<r;e+=1)for(var o=0;o<r;o+=1){for(var s=0,a=t.isDark(e,o),u=-1;u<=1;u+=1)if(!(e+u<0||r<=e+u))for(var l=-1;l<=1;l+=1)o+l<0||r<=o+l||u==0&&l==0||a==t.isDark(e+u,o+l)&&(s+=1);s>5&&(i+=3+s-5)}for(e=0;e<r-1;e+=1)for(o=0;o<r-1;o+=1){var w=0;t.isDark(e,o)&&(w+=1),t.isDark(e+1,o)&&(w+=1),t.isDark(e,o+1)&&(w+=1),t.isDark(e+1,o+1)&&(w+=1),w!=0&&w!=4||(i+=3)}for(e=0;e<r;e+=1)for(o=0;o<r-6;o+=1)t.isDark(e,o)&&!t.isDark(e,o+1)&&t.isDark(e,o+2)&&t.isDark(e,o+3)&&t.isDark(e,o+4)&&!t.isDark(e,o+5)&&t.isDark(e,o+6)&&(i+=40);for(o=0;o<r;o+=1)for(e=0;e<r-6;e+=1)t.isDark(e,o)&&!t.isDark(e+1,o)&&t.isDark(e+2,o)&&t.isDark(e+3,o)&&t.isDark(e+4,o)&&!t.isDark(e+5,o)&&t.isDark(e+6,o)&&(i+=40);var p=0;for(o=0;o<r;o+=1)for(e=0;e<r;e+=1)t.isDark(e,o)&&(p+=1);return i+Math.abs(100*p/r/r-50)/5*10},z),Y=function(){for(var t=new Array(256),r=new Array(256),i=0;i<8;i+=1)t[i]=1<<i;for(i=8;i<256;i+=1)t[i]=t[i-4]^t[i-5]^t[i-6]^t[i-8];for(i=0;i<255;i+=1)r[t[i]]=i;return{glog:function(e){if(e<1)throw"glog("+e+")";return r[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]}}}();function it(t,r){if(t.length===void 0)throw t.length+"/"+r;var i=function(){for(var o=0;o<t.length&&t[o]==0;)o+=1;for(var s=new Array(t.length-o+r),a=0;a<t.length-o;a+=1)s[a]=t[a+o];return s}(),e={getAt:function(o){return i[o]},getLength:function(){return i.length},multiply:function(o){for(var s=new Array(e.getLength()+o.getLength()-1),a=0;a<e.getLength();a+=1)for(var u=0;u<o.getLength();u+=1)s[a+u]^=Y.gexp(Y.glog(e.getAt(a))+Y.glog(o.getAt(u)));return it(s,0)},mod:function(o){if(e.getLength()-o.getLength()<0)return e;for(var s=Y.glog(e.getAt(0))-Y.glog(o.getAt(0)),a=new Array(e.getLength()),u=0;u<e.getLength();u+=1)a[u]=e.getAt(u);for(u=0;u<o.getLength();u+=1)a[u]^=Y.gexp(Y.glog(o.getAt(u))+s);return it(a,0).mod(o)}};return e}var st=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r=function(e,o){var s={};return s.totalCount=e,s.dataCount=o,s},i={getRSBlocks:function(e,o){var s=function(k,m){switch(m){case ot.L:return t[4*(k-1)+0];case ot.M:return t[4*(k-1)+1];case ot.Q:return t[4*(k-1)+2];case ot.H:return t[4*(k-1)+3];default:return}}(e,o);if(s===void 0)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+o;for(var a=s.length/3,u=[],l=0;l<a;l+=1)for(var w=s[3*l+0],p=s[3*l+1],v=s[3*l+2],y=0;y<w;y+=1)u.push(r(p,v));return u}};return i}(),ct=function(){var t=[],r=0,i={getBuffer:function(){return t},getAt:function(e){var o=Math.floor(e/8);return(t[o]>>>7-e%8&1)==1},put:function(e,o){for(var s=0;s<o;s+=1)i.putBit((e>>>o-s-1&1)==1)},getLengthInBits:function(){return r},putBit:function(e){var o=Math.floor(r/8);t.length<=o&&t.push(0),e&&(t[o]|=128>>>r%8),r+=1}};return i},xt=function(t){var r=t,i={getMode:function(){return 1},getLength:function(s){return r.length},write:function(s){for(var a=r,u=0;u+2<a.length;)s.put(e(a.substring(u,u+3)),10),u+=3;u<a.length&&(a.length-u==1?s.put(e(a.substring(u,u+1)),4):a.length-u==2&&s.put(e(a.substring(u,u+2)),7))}},e=function(s){for(var a=0,u=0;u<s.length;u+=1)a=10*a+o(s.charAt(u));return a},o=function(s){if("0"<=s&&s<="9")return s.charCodeAt(0)-48;throw"illegal char :"+s};return i},Ct=function(t){var r=t,i={getMode:function(){return 2},getLength:function(o){return r.length},write:function(o){for(var s=r,a=0;a+1<s.length;)o.put(45*e(s.charAt(a))+e(s.charAt(a+1)),11),a+=2;a<s.length&&o.put(e(s.charAt(a)),6)}},e=function(o){if("0"<=o&&o<="9")return o.charCodeAt(0)-48;if("A"<=o&&o<="Z")return o.charCodeAt(0)-65+10;switch(o){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+o}};return i},ut=function(t){var r=Z.stringToBytes(t);return{getMode:function(){return 4},getLength:function(i){return r.length},write:function(i){for(var e=0;e<r.length;e+=1)i.put(r[e],8)}}},gt=function(t){var r=Z.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";(function(){var o=r("友");if(o.length!=2||(o[0]<<8|o[1])!=38726)throw"sjis not supported."})();var i=r(t),e={getMode:function(){return 8},getLength:function(o){return~~(i.length/2)},write:function(o){for(var s=i,a=0;a+1<s.length;){var u=(255&s[a])<<8|255&s[a+1];if(33088<=u&&u<=40956)u-=33088;else{if(!(57408<=u&&u<=60351))throw"illegal char at "+(a+1)+"/"+u;u-=49472}u=192*(u>>>8&255)+(255&u),o.put(u,13),a+=2}if(a<s.length)throw"illegal char at "+(a+1)}};return e},vt=function(){var t=[],r={writeByte:function(i){t.push(255&i)},writeShort:function(i){r.writeByte(i),r.writeByte(i>>>8)},writeBytes:function(i,e,o){e=e||0,o=o||i.length;for(var s=0;s<o;s+=1)r.writeByte(i[s+e])},writeString:function(i){for(var e=0;e<i.length;e+=1)r.writeByte(i.charCodeAt(e))},toByteArray:function(){return t},toString:function(){var i="";i+="[";for(var e=0;e<t.length;e+=1)e>0&&(i+=","),i+=t[e];return i+"]"}};return r},$=function(t){var r=t,i=0,e=0,o=0,s={read:function(){for(;o<8;){if(i>=r.length){if(o==0)return-1;throw"unexpected end of file./"+o}var u=r.charAt(i);if(i+=1,u=="=")return o=0,-1;u.match(/^\s$/)||(e=e<<6|a(u.charCodeAt(0)),o+=6)}var l=e>>>o-8&255;return o-=8,l}},a=function(u){if(65<=u&&u<=90)return u-65;if(97<=u&&u<=122)return u-97+26;if(48<=u&&u<=57)return u-48+52;if(u==43)return 62;if(u==47)return 63;throw"c:"+u};return s},n=function(t,r,i){for(var e=function(p,v){var y=p,k=v,m=new Array(p*v),B={setPixel:function(h,c,d){m[c*y+h]=d},write:function(h){h.writeString("GIF87a"),h.writeShort(y),h.writeShort(k),h.writeByte(128),h.writeByte(0),h.writeByte(0),h.writeByte(0),h.writeByte(0),h.writeByte(0),h.writeByte(255),h.writeByte(255),h.writeByte(255),h.writeString(","),h.writeShort(0),h.writeShort(0),h.writeShort(y),h.writeShort(k),h.writeByte(0);var c=O(2);h.writeByte(2);for(var d=0;c.length-d>255;)h.writeByte(255),h.writeBytes(c,d,255),d+=255;h.writeByte(c.length-d),h.writeBytes(c,d,c.length-d),h.writeByte(0),h.writeString(";")}},O=function(h){for(var c=1<<h,d=1+(1<<h),g=h+1,f=b(),_=0;_<c;_+=1)f.add(String.fromCharCode(_));f.add(String.fromCharCode(c)),f.add(String.fromCharCode(d));var S,C,D,M=vt(),A=(S=M,C=0,D=0,{write:function(E,x){if(E>>>x)throw"length over";for(;C+x>=8;)S.writeByte(255&(E<<C|D)),x-=8-C,E>>>=8-C,D=0,C=0;D|=E<<C,C+=x},flush:function(){C>0&&S.writeByte(D)}});A.write(c,g);var q=0,I=String.fromCharCode(m[q]);for(q+=1;q<m.length;){var R=String.fromCharCode(m[q]);q+=1,f.contains(I+R)?I+=R:(A.write(f.indexOf(I),g),f.size()<4095&&(f.size()==1<<g&&(g+=1),f.add(I+R)),I=R)}return A.write(f.indexOf(I),g),A.write(d,g),A.flush(),M.toByteArray()},b=function(){var h={},c=0,d={add:function(g){if(d.contains(g))throw"dup key:"+g;h[g]=c,c+=1},size:function(){return c},indexOf:function(g){return h[g]},contains:function(g){return h[g]!==void 0}};return d};return B}(t,r),o=0;o<r;o+=1)for(var s=0;s<t;s+=1)e.setPixel(s,o,i(s,o));var a=vt();e.write(a);for(var u=function(){var p=0,v=0,y=0,k="",m={},B=function(b){k+=String.fromCharCode(O(63&b))},O=function(b){if(!(b<0)){if(b<26)return 65+b;if(b<52)return b-26+97;if(b<62)return b-52+48;if(b==62)return 43;if(b==63)return 47}throw"n:"+b};return m.writeByte=function(b){for(p=p<<8|255&b,v+=8,y+=1;v>=6;)B(p>>>v-6),v-=6},m.flush=function(){if(v>0&&(B(p<<6-v),p=0,v=0),y%3!=0)for(var b=3-y%3,h=0;h<b;h+=1)k+="="},m.toString=function(){return k},m}(),l=a.toByteArray(),w=0;w<l.length;w+=1)u.writeByte(l[w]);return u.flush(),"data:image/gif;base64,"+u};return Z}();dt.stringToBytesFuncs["UTF-8"]=function(Z){return function(et){for(var Q=[],F=0;F<et.length;F++){var z=et.charCodeAt(F);z<128?Q.push(z):z<2048?Q.push(192|z>>6,128|63&z):z<55296||z>=57344?Q.push(224|z>>12,128|z>>6&63,128|63&z):(F++,z=65536+((1023&z)<<10|1023&et.charCodeAt(F)),Q.push(240|z>>18,128|z>>12&63,128|z>>6&63,128|63&z))}return Q}(Z)},(ht=typeof(T=function(){return dt})=="function"?T.apply(N,[]):T)===void 0||(L.exports=ht)}},W={};function j(L){var N=W[L];if(N!==void 0)return N.exports;var T=W[L]={exports:{}};return X[L](T,T.exports,j),T.exports}j.n=L=>{var N=L&&L.__esModule?()=>L.default:()=>L;return j.d(N,{a:N}),N},j.d=(L,N)=>{for(var T in N)j.o(N,T)&&!j.o(L,T)&&Object.defineProperty(L,T,{enumerable:!0,get:N[T]})},j.o=(L,N)=>Object.prototype.hasOwnProperty.call(L,N);var lt={};return(()=>{j.d(lt,{default:()=>vt});const L=$=>!!$&&typeof $=="object"&&!Array.isArray($);function N($,...n){if(!n.length)return $;const t=n.shift();return t!==void 0&&L($)&&L(t)?($=Object.assign({},$),Object.keys(t).forEach(r=>{const i=$[r],e=t[r];Array.isArray(i)&&Array.isArray(e)?$[r]=e:L(i)&&L(e)?$[r]=N(Object.assign({},i),e):$[r]=e}),N($,...n)):$}function T($,n){const t=document.createElement("a");t.download=n,t.href=$,document.body.appendChild(t),t.click(),document.body.removeChild(t)}const ht={L:.07,M:.15,Q:.25,H:.3};class dt{constructor({svg:n,type:t,window:r}){this._svg=n,this._type=t,this._window=r}draw(n,t,r,i){let e;switch(this._type){case"dots":e=this._drawDot;break;case"classy":e=this._drawClassy;break;case"classy-rounded":e=this._drawClassyRounded;break;case"rounded":e=this._drawRounded;break;case"extra-rounded":e=this._drawExtraRounded;break;default:e=this._drawSquare}e.call(this,{x:n,y:t,size:r,getNeighbor:i})}_rotateFigure({x:n,y:t,size:r,rotation:i=0,draw:e}){var o;const s=n+r/2,a=t+r/2;e(),(o=this._element)===null||o===void 0||o.setAttribute("transform",`rotate(${180*i/Math.PI},${s},${a})`)}_basicDot(n){const{size:t,x:r,y:i}=n;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(r+t/2)),this._element.setAttribute("cy",String(i+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(n){const{size:t,x:r,y:i}=n;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(r)),this._element.setAttribute("y",String(i)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_basicSideRounded(n){const{size:t,x:r,y:i}=n;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${i}v ${t}h `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t}`)}}))}_basicCornerRounded(n){const{size:t,x:r,y:i}=n;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${i}v ${t}h ${t}v `+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_basicCornerExtraRounded(n){const{size:t,x:r,y:i}=n;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${i}v ${t}h ${t}a ${t} ${t}, 0, 0, 0, ${-t} ${-t}`)}}))}_basicCornersRounded(n){const{size:t,x:r,y:i}=n;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${i}v `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2}h `+t/2+"v "+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_drawDot({x:n,y:t,size:r}){this._basicDot({x:n,y:t,size:r,rotation:0})}_drawSquare({x:n,y:t,size:r}){this._basicSquare({x:n,y:t,size:r,rotation:0})}_drawRounded({x:n,y:t,size:r,getNeighbor:i}){const e=i?+i(-1,0):0,o=i?+i(1,0):0,s=i?+i(0,-1):0,a=i?+i(0,1):0,u=e+o+s+a;if(u!==0)if(u>2||e&&o||s&&a)this._basicSquare({x:n,y:t,size:r,rotation:0});else{if(u===2){let l=0;return e&&s?l=Math.PI/2:s&&o?l=Math.PI:o&&a&&(l=-Math.PI/2),void this._basicCornerRounded({x:n,y:t,size:r,rotation:l})}if(u===1){let l=0;return s?l=Math.PI/2:o?l=Math.PI:a&&(l=-Math.PI/2),void this._basicSideRounded({x:n,y:t,size:r,rotation:l})}}else this._basicDot({x:n,y:t,size:r,rotation:0})}_drawExtraRounded({x:n,y:t,size:r,getNeighbor:i}){const e=i?+i(-1,0):0,o=i?+i(1,0):0,s=i?+i(0,-1):0,a=i?+i(0,1):0,u=e+o+s+a;if(u!==0)if(u>2||e&&o||s&&a)this._basicSquare({x:n,y:t,size:r,rotation:0});else{if(u===2){let l=0;return e&&s?l=Math.PI/2:s&&o?l=Math.PI:o&&a&&(l=-Math.PI/2),void this._basicCornerExtraRounded({x:n,y:t,size:r,rotation:l})}if(u===1){let l=0;return s?l=Math.PI/2:o?l=Math.PI:a&&(l=-Math.PI/2),void this._basicSideRounded({x:n,y:t,size:r,rotation:l})}}else this._basicDot({x:n,y:t,size:r,rotation:0})}_drawClassy({x:n,y:t,size:r,getNeighbor:i}){const e=i?+i(-1,0):0,o=i?+i(1,0):0,s=i?+i(0,-1):0,a=i?+i(0,1):0;e+o+s+a!==0?e||s?o||a?this._basicSquare({x:n,y:t,size:r,rotation:0}):this._basicCornerRounded({x:n,y:t,size:r,rotation:Math.PI/2}):this._basicCornerRounded({x:n,y:t,size:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:n,y:t,size:r,rotation:Math.PI/2})}_drawClassyRounded({x:n,y:t,size:r,getNeighbor:i}){const e=i?+i(-1,0):0,o=i?+i(1,0):0,s=i?+i(0,-1):0,a=i?+i(0,1):0;e+o+s+a!==0?e||s?o||a?this._basicSquare({x:n,y:t,size:r,rotation:0}):this._basicCornerExtraRounded({x:n,y:t,size:r,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:n,y:t,size:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:n,y:t,size:r,rotation:Math.PI/2})}}class Z{constructor({svg:n,type:t,window:r}){this._svg=n,this._type=t,this._window=r}draw(n,t,r,i){let e;switch(this._type){case"square":e=this._drawSquare;break;case"extra-rounded":e=this._drawExtraRounded;break;default:e=this._drawDot}e.call(this,{x:n,y:t,size:r,rotation:i})}_rotateFigure({x:n,y:t,size:r,rotation:i=0,draw:e}){var o;const s=n+r/2,a=t+r/2;e(),(o=this._element)===null||o===void 0||o.setAttribute("transform",`rotate(${180*i/Math.PI},${s},${a})`)}_basicDot(n){const{size:t,x:r,y:i}=n,e=t/7;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r+t/2} ${i}a ${t/2} ${t/2} 0 1 0 0.1 0zm 0 ${e}a ${t/2-e} ${t/2-e} 0 1 1 -0.1 0Z`)}}))}_basicSquare(n){const{size:t,x:r,y:i}=n,e=t/7;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r} ${i}v ${t}h ${t}v `+-t+`zM ${r+e} ${i+e}h `+(t-2*e)+"v "+(t-2*e)+"h "+(2*e-t)+"z")}}))}_basicExtraRounded(n){const{size:t,x:r,y:i}=n,e=t/7;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r} ${i+2.5*e}v `+2*e+`a ${2.5*e} ${2.5*e}, 0, 0, 0, ${2.5*e} ${2.5*e}h `+2*e+`a ${2.5*e} ${2.5*e}, 0, 0, 0, ${2.5*e} ${2.5*-e}v `+-2*e+`a ${2.5*e} ${2.5*e}, 0, 0, 0, ${2.5*-e} ${2.5*-e}h `+-2*e+`a ${2.5*e} ${2.5*e}, 0, 0, 0, ${2.5*-e} ${2.5*e}M ${r+2.5*e} ${i+e}h `+2*e+`a ${1.5*e} ${1.5*e}, 0, 0, 1, ${1.5*e} ${1.5*e}v `+2*e+`a ${1.5*e} ${1.5*e}, 0, 0, 1, ${1.5*-e} ${1.5*e}h `+-2*e+`a ${1.5*e} ${1.5*e}, 0, 0, 1, ${1.5*-e} ${1.5*-e}v `+-2*e+`a ${1.5*e} ${1.5*e}, 0, 0, 1, ${1.5*e} ${1.5*-e}`)}}))}_drawDot({x:n,y:t,size:r,rotation:i}){this._basicDot({x:n,y:t,size:r,rotation:i})}_drawSquare({x:n,y:t,size:r,rotation:i}){this._basicSquare({x:n,y:t,size:r,rotation:i})}_drawExtraRounded({x:n,y:t,size:r,rotation:i}){this._basicExtraRounded({x:n,y:t,size:r,rotation:i})}}class et{constructor({svg:n,type:t,window:r}){this._svg=n,this._type=t,this._window=r}draw(n,t,r,i){let e;e=this._type==="square"?this._drawSquare:this._drawDot,e.call(this,{x:n,y:t,size:r,rotation:i})}_rotateFigure({x:n,y:t,size:r,rotation:i=0,draw:e}){var o;const s=n+r/2,a=t+r/2;e(),(o=this._element)===null||o===void 0||o.setAttribute("transform",`rotate(${180*i/Math.PI},${s},${a})`)}_basicDot(n){const{size:t,x:r,y:i}=n;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(r+t/2)),this._element.setAttribute("cy",String(i+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(n){const{size:t,x:r,y:i}=n;this._rotateFigure(Object.assign(Object.assign({},n),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(r)),this._element.setAttribute("y",String(i)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_drawDot({x:n,y:t,size:r,rotation:i}){this._basicDot({x:n,y:t,size:r,rotation:i})}_drawSquare({x:n,y:t,size:r,rotation:i}){this._basicSquare({x:n,y:t,size:r,rotation:i})}}const Q="circle",F=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],z=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class U{constructor(n,t){this._roundSize=r=>this._options.dotsOptions.roundSize?Math.floor(r):r,this._window=t,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(n.width)),this._element.setAttribute("height",String(n.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${n.width} ${n.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=n.image,this._instanceId=U.instanceCount++,this._options=n}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(n){const t=n.getModuleCount(),r=Math.min(this._options.width,this._options.height)-2*this._options.margin,i=this._options.shape===Q?r/Math.sqrt(2):r,e=this._roundSize(i/t);let o={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=n,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:s,qrOptions:a}=this._options,u=s.imageSize*ht[a.errorCorrectionLevel],l=Math.floor(u*t*t);o=function({originalHeight:w,originalWidth:p,maxHiddenDots:v,maxHiddenAxisDots:y,dotSize:k}){const m={x:0,y:0},B={x:0,y:0};if(w<=0||p<=0||v<=0||k<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const O=w/p;return m.x=Math.floor(Math.sqrt(v/O)),m.x<=0&&(m.x=1),y&&y<m.x&&(m.x=y),m.x%2==0&&m.x--,B.x=m.x*k,m.y=1+2*Math.ceil((m.x*O-1)/2),B.y=Math.round(B.x*O),(m.y*m.x>v||y&&y<m.y)&&(y&&y<m.y?(m.y=y,m.y%2==0&&m.x--):m.y-=2,B.y=m.y*k,m.x=1+2*Math.ceil((m.y/O-1)/2),B.x=Math.round(B.y/O)),{height:B.y,width:B.x,hideYDots:m.y,hideXDots:m.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:l,maxHiddenAxisDots:t-14,dotSize:e})}this.drawBackground(),this.drawDots((s,a)=>{var u,l,w,p,v,y;return!(this._options.imageOptions.hideBackgroundDots&&s>=(t-o.hideYDots)/2&&s<(t+o.hideYDots)/2&&a>=(t-o.hideXDots)/2&&a<(t+o.hideXDots)/2||!((u=F[s])===null||u===void 0)&&u[a]||!((l=F[s-t+7])===null||l===void 0)&&l[a]||!((w=F[s])===null||w===void 0)&&w[a-t+7]||!((p=z[s])===null||p===void 0)&&p[a]||!((v=z[s-t+7])===null||v===void 0)&&v[a]||!((y=z[s])===null||y===void 0)&&y[a-t+7])}),this.drawCorners(),this._options.image&&await this.drawImage({width:o.width,height:o.height,count:t,dotSize:e})}drawBackground(){var n,t,r;const i=this._element,e=this._options;if(i){const o=(n=e.backgroundOptions)===null||n===void 0?void 0:n.gradient,s=(t=e.backgroundOptions)===null||t===void 0?void 0:t.color;let a=e.height,u=e.width;if(o||s){const l=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((r=e.backgroundOptions)===null||r===void 0)&&r.round&&(a=u=Math.min(e.width,e.height),l.setAttribute("rx",String(a/2*e.backgroundOptions.round))),l.setAttribute("x",String(this._roundSize((e.width-u)/2))),l.setAttribute("y",String(this._roundSize((e.height-a)/2))),l.setAttribute("width",String(u)),l.setAttribute("height",String(a)),this._backgroundClipPath.appendChild(l),this._createColor({options:o,color:s,additionalRotation:0,x:0,y:0,height:e.height,width:e.width,name:`background-color-${this._instanceId}`})}}}drawDots(n){var t,r;if(!this._qr)throw"QR code is not defined";const i=this._options,e=this._qr.getModuleCount();if(e>i.width||e>i.height)throw"The canvas is too small.";const o=Math.min(i.width,i.height)-2*i.margin,s=i.shape===Q?o/Math.sqrt(2):o,a=this._roundSize(s/e),u=this._roundSize((i.width-e*a)/2),l=this._roundSize((i.height-e*a)/2),w=new dt({svg:this._element,type:i.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(t=i.dotsOptions)===null||t===void 0?void 0:t.gradient,color:i.dotsOptions.color,additionalRotation:0,x:0,y:0,height:i.height,width:i.width,name:`dot-color-${this._instanceId}`});for(let p=0;p<e;p++)for(let v=0;v<e;v++)n&&!n(p,v)||!((r=this._qr)===null||r===void 0)&&r.isDark(p,v)&&(w.draw(u+v*a,l+p*a,a,(y,k)=>!(v+y<0||p+k<0||v+y>=e||p+k>=e)&&!(n&&!n(p+k,v+y))&&!!this._qr&&this._qr.isDark(p+k,v+y)),w._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(w._element));if(i.shape===Q){const p=this._roundSize((o/a-e)/2),v=e+2*p,y=u-p*a,k=l-p*a,m=[],B=this._roundSize(v/2);for(let O=0;O<v;O++){m[O]=[];for(let b=0;b<v;b++)O>=p-1&&O<=v-p&&b>=p-1&&b<=v-p||Math.sqrt((O-B)*(O-B)+(b-B)*(b-B))>B?m[O][b]=0:m[O][b]=this._qr.isDark(b-2*p<0?b:b>=e?b-2*p:b-p,O-2*p<0?O:O>=e?O-2*p:O-p)?1:0}for(let O=0;O<v;O++)for(let b=0;b<v;b++)m[O][b]&&(w.draw(y+b*a,k+O*a,a,(h,c)=>{var d;return!!(!((d=m[O+c])===null||d===void 0)&&d[b+h])}),w._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(w._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const n=this._element,t=this._options;if(!n)throw"Element code is not defined";const r=this._qr.getModuleCount(),i=Math.min(t.width,t.height)-2*t.margin,e=t.shape===Q?i/Math.sqrt(2):i,o=this._roundSize(e/r),s=7*o,a=3*o,u=this._roundSize((t.width-r*o)/2),l=this._roundSize((t.height-r*o)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([w,p,v])=>{var y,k,m,B,O,b,h,c,d,g,f,_;const S=u+w*o*(r-7),C=l+p*o*(r-7);let D=this._dotsClipPath,M=this._dotsClipPath;if((!((y=t.cornersSquareOptions)===null||y===void 0)&&y.gradient||!((k=t.cornersSquareOptions)===null||k===void 0)&&k.color)&&(D=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),D.setAttribute("id",`clip-path-corners-square-color-${w}-${p}-${this._instanceId}`),this._defs.appendChild(D),this._cornersSquareClipPath=this._cornersDotClipPath=M=D,this._createColor({options:(m=t.cornersSquareOptions)===null||m===void 0?void 0:m.gradient,color:(B=t.cornersSquareOptions)===null||B===void 0?void 0:B.color,additionalRotation:v,x:S,y:C,height:s,width:s,name:`corners-square-color-${w}-${p}-${this._instanceId}`})),(O=t.cornersSquareOptions)===null||O===void 0?void 0:O.type){const A=new Z({svg:this._element,type:t.cornersSquareOptions.type,window:this._window});A.draw(S,C,s,v),A._element&&D&&D.appendChild(A._element)}else{const A=new dt({svg:this._element,type:t.dotsOptions.type,window:this._window});for(let q=0;q<F.length;q++)for(let I=0;I<F[q].length;I++)!((b=F[q])===null||b===void 0)&&b[I]&&(A.draw(S+I*o,C+q*o,o,(R,E)=>{var x;return!!(!((x=F[q+E])===null||x===void 0)&&x[I+R])}),A._element&&D&&D.appendChild(A._element))}if((!((h=t.cornersDotOptions)===null||h===void 0)&&h.gradient||!((c=t.cornersDotOptions)===null||c===void 0)&&c.color)&&(M=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),M.setAttribute("id",`clip-path-corners-dot-color-${w}-${p}-${this._instanceId}`),this._defs.appendChild(M),this._cornersDotClipPath=M,this._createColor({options:(d=t.cornersDotOptions)===null||d===void 0?void 0:d.gradient,color:(g=t.cornersDotOptions)===null||g===void 0?void 0:g.color,additionalRotation:v,x:S+2*o,y:C+2*o,height:a,width:a,name:`corners-dot-color-${w}-${p}-${this._instanceId}`})),(f=t.cornersDotOptions)===null||f===void 0?void 0:f.type){const A=new et({svg:this._element,type:t.cornersDotOptions.type,window:this._window});A.draw(S+2*o,C+2*o,a,v),A._element&&M&&M.appendChild(A._element)}else{const A=new dt({svg:this._element,type:t.dotsOptions.type,window:this._window});for(let q=0;q<z.length;q++)for(let I=0;I<z[q].length;I++)!((_=z[q])===null||_===void 0)&&_[I]&&(A.draw(S+I*o,C+q*o,o,(R,E)=>{var x;return!!(!((x=z[q+E])===null||x===void 0)&&x[I+R])}),A._element&&M&&M.appendChild(A._element))}})}loadImage(){return new Promise((n,t)=>{var r;const i=this._options;if(!i.image)return t("Image is not defined");if(!((r=i.nodeCanvas)===null||r===void 0)&&r.loadImage)i.nodeCanvas.loadImage(i.image).then(e=>{var o,s;if(this._image=e,this._options.imageOptions.saveAsBlob){const a=(o=i.nodeCanvas)===null||o===void 0?void 0:o.createCanvas(this._image.width,this._image.height);(s=a==null?void 0:a.getContext("2d"))===null||s===void 0||s.drawImage(e,0,0),this._imageUri=a==null?void 0:a.toDataURL()}n()}).catch(t);else{const e=new this._window.Image;typeof i.imageOptions.crossOrigin=="string"&&(e.crossOrigin=i.imageOptions.crossOrigin),this._image=e,e.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await async function(o,s){return new Promise(a=>{const u=new s.XMLHttpRequest;u.onload=function(){const l=new s.FileReader;l.onloadend=function(){a(l.result)},l.readAsDataURL(u.response)},u.open("GET",o),u.responseType="blob",u.send()})}(i.image||"",this._window)),n()},e.src=i.image}})}async drawImage({width:n,height:t,count:r,dotSize:i}){const e=this._options,o=this._roundSize((e.width-r*i)/2),s=this._roundSize((e.height-r*i)/2),a=o+this._roundSize(e.imageOptions.margin+(r*i-n)/2),u=s+this._roundSize(e.imageOptions.margin+(r*i-t)/2),l=n-2*e.imageOptions.margin,w=t-2*e.imageOptions.margin,p=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");p.setAttribute("href",this._imageUri||""),p.setAttribute("x",String(a)),p.setAttribute("y",String(u)),p.setAttribute("width",`${l}px`),p.setAttribute("height",`${w}px`),this._element.appendChild(p)}_createColor({options:n,color:t,additionalRotation:r,x:i,y:e,height:o,width:s,name:a}){const u=s>o?s:o,l=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(l.setAttribute("x",String(i)),l.setAttribute("y",String(e)),l.setAttribute("height",String(o)),l.setAttribute("width",String(s)),l.setAttribute("clip-path",`url('#clip-path-${a}')`),n){let w;if(n.type==="radial")w=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),w.setAttribute("id",a),w.setAttribute("gradientUnits","userSpaceOnUse"),w.setAttribute("fx",String(i+s/2)),w.setAttribute("fy",String(e+o/2)),w.setAttribute("cx",String(i+s/2)),w.setAttribute("cy",String(e+o/2)),w.setAttribute("r",String(u/2));else{const p=((n.rotation||0)+r)%(2*Math.PI),v=(p+2*Math.PI)%(2*Math.PI);let y=i+s/2,k=e+o/2,m=i+s/2,B=e+o/2;v>=0&&v<=.25*Math.PI||v>1.75*Math.PI&&v<=2*Math.PI?(y-=s/2,k-=o/2*Math.tan(p),m+=s/2,B+=o/2*Math.tan(p)):v>.25*Math.PI&&v<=.75*Math.PI?(k-=o/2,y-=s/2/Math.tan(p),B+=o/2,m+=s/2/Math.tan(p)):v>.75*Math.PI&&v<=1.25*Math.PI?(y+=s/2,k+=o/2*Math.tan(p),m-=s/2,B-=o/2*Math.tan(p)):v>1.25*Math.PI&&v<=1.75*Math.PI&&(k+=o/2,y+=s/2/Math.tan(p),B-=o/2,m-=s/2/Math.tan(p)),w=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),w.setAttribute("id",a),w.setAttribute("gradientUnits","userSpaceOnUse"),w.setAttribute("x1",String(Math.round(y))),w.setAttribute("y1",String(Math.round(k))),w.setAttribute("x2",String(Math.round(m))),w.setAttribute("y2",String(Math.round(B)))}n.colorStops.forEach(({offset:p,color:v})=>{const y=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");y.setAttribute("offset",100*p+"%"),y.setAttribute("stop-color",v),w.appendChild(y)}),l.setAttribute("fill",`url('#${a}')`),this._defs.appendChild(w)}else t&&l.setAttribute("fill",t);this._element.appendChild(l)}}U.instanceCount=0;const ot=U,H="canvas",Y={};for(let $=0;$<=40;$++)Y[$]=$;const it={type:H,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Y[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function st($){const n=Object.assign({},$);if(!n.colorStops||!n.colorStops.length)throw"Field 'colorStops' is required in gradient";return n.rotation?n.rotation=Number(n.rotation):n.rotation=0,n.colorStops=n.colorStops.map(t=>Object.assign(Object.assign({},t),{offset:Number(t.offset)})),n}function ct($){const n=Object.assign({},$);return n.width=Number(n.width),n.height=Number(n.height),n.margin=Number(n.margin),n.imageOptions=Object.assign(Object.assign({},n.imageOptions),{hideBackgroundDots:!!n.imageOptions.hideBackgroundDots,imageSize:Number(n.imageOptions.imageSize),margin:Number(n.imageOptions.margin)}),n.margin>Math.min(n.width,n.height)&&(n.margin=Math.min(n.width,n.height)),n.dotsOptions=Object.assign({},n.dotsOptions),n.dotsOptions.gradient&&(n.dotsOptions.gradient=st(n.dotsOptions.gradient)),n.cornersSquareOptions&&(n.cornersSquareOptions=Object.assign({},n.cornersSquareOptions),n.cornersSquareOptions.gradient&&(n.cornersSquareOptions.gradient=st(n.cornersSquareOptions.gradient))),n.cornersDotOptions&&(n.cornersDotOptions=Object.assign({},n.cornersDotOptions),n.cornersDotOptions.gradient&&(n.cornersDotOptions.gradient=st(n.cornersDotOptions.gradient))),n.backgroundOptions&&(n.backgroundOptions=Object.assign({},n.backgroundOptions),n.backgroundOptions.gradient&&(n.backgroundOptions.gradient=st(n.backgroundOptions.gradient))),n}var xt=j(873),Ct=j.n(xt);function ut($){if(!$)throw new Error("Extension must be defined");$[0]==="."&&($=$.substring(1));const n={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[$.toLowerCase()];if(!n)throw new Error(`Extension "${$}" is not supported`);return n}class gt{constructor(n){n!=null&&n.jsdom?this._window=new n.jsdom("",{resources:"usable"}).window:this._window=window,this._options=n?ct(N(it,n)):it,this.update()}static _clearContainer(n){n&&(n.innerHTML="")}_setupSvg(){if(!this._qr)return;const n=new ot(this._options,this._window);this._svg=n.getElement(),this._svgDrawingPromise=n.drawQR(this._qr).then(()=>{var t;this._svg&&((t=this._extension)===null||t===void 0||t.call(this,n.getElement(),this._options))})}_setupCanvas(){var n,t;this._qr&&(!((n=this._options.nodeCanvas)===null||n===void 0)&&n.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(t=this._svgDrawingPromise)===null||t===void 0?void 0:t.then(()=>{var r;if(!this._svg)return;const i=this._svg,e=new this._window.XMLSerializer().serializeToString(i),o=btoa(e),s=`data:${ut("svg")};base64,${o}`;if(!((r=this._options.nodeCanvas)===null||r===void 0)&&r.loadImage)return this._options.nodeCanvas.loadImage(s).then(a=>{var u,l;a.width=this._options.width,a.height=this._options.height,(l=(u=this._nodeCanvas)===null||u===void 0?void 0:u.getContext("2d"))===null||l===void 0||l.drawImage(a,0,0)});{const a=new this._window.Image;return new Promise(u=>{a.onload=()=>{var l,w;(w=(l=this._domCanvas)===null||l===void 0?void 0:l.getContext("2d"))===null||w===void 0||w.drawImage(a,0,0),u()},a.src=s})}}))}async _getElement(n="png"){if(!this._qr)throw"QR code is empty";return n.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(n){gt._clearContainer(this._container),this._options=n?ct(N(this._options,n)):this._options,this._options.data&&(this._qr=Ct()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===H?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(n){if(n){if(typeof n.appendChild!="function")throw"Container should be a single DOM node";this._options.type===H?this._domCanvas&&n.appendChild(this._domCanvas):this._svg&&n.appendChild(this._svg),this._container=n}}applyExtension(n){if(!n)throw"Extension function should be defined.";this._extension=n,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(n="png"){if(!this._qr)throw"QR code is empty";const t=await this._getElement(n),r=ut(n);if(!t)return null;if(n.toLowerCase()==="svg"){const i=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(t)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(i):new Blob([i],{type:r})}return new Promise(i=>{const e=t;if("toBuffer"in e)if(r==="image/png")i(e.toBuffer(r));else if(r==="image/jpeg")i(e.toBuffer(r));else{if(r!=="application/pdf")throw Error("Unsupported extension");i(e.toBuffer(r))}else"toBlob"in e&&e.toBlob(i,r,1)})}async download(n){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let t="png",r="qr";typeof n=="string"?(t=n,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof n=="object"&&n!==null&&(n.name&&(r=n.name),n.extension&&(t=n.extension));const i=await this._getElement(t);if(i)if(t.toLowerCase()==="svg"){let e=new XMLSerializer().serializeToString(i);e=`<?xml version="1.0" standalone="no"?>\r
`+e,T(`data:${ut(t)};charset=utf-8,${encodeURIComponent(e)}`,`${r}.svg`)}else T(i.toDataURL(ut(t)),`${r}.${t}`)}}const vt=gt})(),lt.default})())}(yt)),yt.exports}var Ht=Ut();const Xt=Rt(Ht),Yt=Dt({__name:"QRCode",props:{type:{default:"svg"},shape:{},width:{default:300},height:{default:300},margin:{default:0},data:{default:""},image:{},nodeCanvas:{},jsdom:{},qrOptions:{default:()=>({typeNumber:0,mode:void 0,errorCorrectionLevel:"Q"})},imageOptions:{default:()=>({hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0})},dotsOptions:{default:()=>({type:"square",color:"#000"})},cornersSquareOptions:{},cornersDotOptions:{},backgroundOptions:{default:()=>({color:"rgba(0, 0, 0, 0)"})}},setup(nt){zt();const tt=nt,X=new Xt(tt),W=Bt(null);return Pt(()=>{W.value&&X.append(W.value)}),(j,lt)=>($t(),kt("div",{id:"qr-code",ref_key:"qrCodeRef",ref:W},null,512))}}),Gt={class:"col-header"},Vt=Dt({__name:"two-cols-header",props:{class:{type:String},layoutClass:{type:String}},setup(nt){const tt=nt;return(X,W)=>($t(),kt("div",{class:bt(["slidev-layout two-cols-header w-full h-full",nt.layoutClass])},[K("div",Gt,[mt(X.$slots,"default",{},void 0,!0)]),K("div",{class:bt(["col-left",tt.class])},[mt(X.$slots,"left",{},void 0,!0)],2),K("div",{class:bt(["col-right",tt.class])},[mt(X.$slots,"right",{},void 0,!0)],2),K("div",{class:bt(["col-bottom",tt.class])},[mt(X.$slots,"bottom",{},void 0,!0)],2)],2))}}),Wt=Ft(Vt,[["__scopeId","data-v-d9d910a6"]]),re={__name:"slides.md__slidev_46",setup(nt){const{$clicksContext:tt,$frontmatter:X}=zt();return tt.setup(),(W,j)=>{const lt=Lt,L=Nt,N=Tt,T=Yt;return $t(),qt(Wt,It(Et(Mt(jt)(Mt(X),45))),{left:St(ht=>[K("p",null,[wt(lt),j[0]||(j[0]=At(" asm0dey"))]),K("p",null,[wt(L),j[1]||(j[1]=At(" asm0di0"))]),K("p",null,[wt(N),j[2]||(j[2]=At(" @asm0dey@fosstodon.org"))])]),right:St(ht=>[j[3]||(j[3]=K("p",null,"Blog:",-1)),wt(T,{width:150,height:150,type:"svg",data:"https://bit.ly/48WTkL5",margin:10,imageOptions:{margin:10},dotsOptions:{type:"extra-rounded",color:"white"}}),j[4]||(j[4]=K("p",null,"Source code:",-1)),wt(T,{width:150,height:150,type:"svg",data:"https://github.com/asm0dey/bellsoft-docs-bot",margin:10,imageOptions:{margin:10},dotsOptions:{type:"extra-rounded",color:"white"}})]),default:St(()=>[j[5]||(j[5]=K("h1",null,"Questions?",-1))]),_:1},16)}}};export{re as default};
